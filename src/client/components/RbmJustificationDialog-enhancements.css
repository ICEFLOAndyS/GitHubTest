/**
 * RBM Justification Dialog Enhancements - AUTHORITATIVE v1.9.5
 * 
 * Enhanced styling for compliance and security features using RBM design system tokens
 */

/* Import RBM design system tokens */
@import url("../../../rbm-knowledge/01-standards-authoritative/rbm-design-system/tokens/rbm.base.css");

/* Compliance Notice Styling */
.rbm-compliance-notice {
  background: color-mix(in srgb, var(--rbm-color-warning) 15%, var(--rbm-color-surface-1));
  border: var(--rbm-border-width-1) solid color-mix(in srgb, var(--rbm-color-warning) 25%, transparent);
  border-radius: var(--rbm-radius-sm);
  padding: var(--rbm-space-3);
  margin: var(--rbm-space-2) 0;
}

.rbm-compliance-notice p:first-child {
  color: color-mix(in srgb, var(--rbm-color-warning) 85%, var(--rbm-color-text));
  font-weight: var(--rbm-font-weight-semibold);
  margin: 0 0 var(--rbm-space-2) 0;
}

.rbm-compliance-notice p {
  color: color-mix(in srgb, var(--rbm-color-warning) 85%, var(--rbm-color-text));
  margin: var(--rbm-space-1) 0;
  font-size: var(--rbm-font-size-md);
  line-height: var(--rbm-line-height-normal);
}

/* Enhanced Form Validation */
.rbm-justification-dialog__textarea.error {
  border-color: var(--rbm-color-critical);
  box-shadow: 0 0 0 var(--rbm-space-1) color-mix(in srgb, var(--rbm-color-critical) 25%, transparent);
}

.justification-requirements {
  background: color-mix(in srgb, var(--rbm-color-info) 10%, var(--rbm-color-surface-1));
  border: var(--rbm-border-width-1) solid color-mix(in srgb, var(--rbm-color-info) 20%, transparent);
  border-radius: var(--rbm-radius-sm);
  padding: var(--rbm-space-2) var(--rbm-space-3);
  margin: var(--rbm-space-2) 0;
}

.justification-requirements p {
  margin: 0;
  color: color-mix(in srgb, var(--rbm-color-info) 90%, var(--rbm-color-text));
  font-size: var(--rbm-font-size-sm);
  font-weight: var(--rbm-font-weight-medium);
}

/* Validation Feedback */
.validation-error {
  background: color-mix(in srgb, var(--rbm-color-critical) 10%, var(--rbm-color-surface-1));
  border: var(--rbm-border-width-1) solid color-mix(in srgb, var(--rbm-color-critical) 20%, transparent);
  border-radius: var(--rbm-radius-sm);
  padding: var(--rbm-space-2) var(--rbm-space-3);
  margin: var(--rbm-space-2) 0;
  color: color-mix(in srgb, var(--rbm-color-critical) 90%, var(--rbm-color-text));
}

.validation-success {
  background: color-mix(in srgb, var(--rbm-color-success) 10%, var(--rbm-color-surface-1));
  border: var(--rbm-border-width-1) solid color-mix(in srgb, var(--rbm-color-success) 20%, transparent);
  border-radius: var(--rbm-radius-sm);
  padding: var(--rbm-space-2) var(--rbm-space-3);
  margin: var(--rbm-space-2) 0;
  color: color-mix(in srgb, var(--rbm-color-success) 90%, var(--rbm-color-text));
}

/* Compliance Reminder */
.compliance-reminder {
  background: var(--rbm-color-surface-2);
  border: var(--rbm-border-width-1) solid var(--rbm-color-border);
  border-radius: var(--rbm-radius-sm);
  padding: var(--rbm-space-2) var(--rbm-space-3);
  margin: var(--rbm-space-2) 0;
}

.compliance-reminder p {
  margin: 0;
  color: var(--rbm-color-text-muted);
  font-size: var(--rbm-font-size-xs);
  line-height: var(--rbm-line-height-normal);
}

/* Enhanced Button States */
.rbm-justification-dialog .rbm-button--primary:disabled {
  background-color: color-mix(in srgb, var(--rbm-color-text-muted) 50%, transparent);
  border-color: color-mix(in srgb, var(--rbm-color-text-muted) 50%, transparent);
  cursor: not-allowed;
  opacity: 0.65;
}

.rbm-justification-dialog .rbm-button--primary:disabled:hover {
  background-color: color-mix(in srgb, var(--rbm-color-text-muted) 50%, transparent);
  border-color: color-mix(in srgb, var(--rbm-color-text-muted) 50%, transparent);
  transform: none;
}

/* Required Field Indicator */
.rbm-justification-dialog__label .required {
  color: var(--rbm-color-critical);
  font-weight: var(--rbm-font-weight-semibold);
  margin-left: var(--rbm-space-1);
}

/* Accessibility Enhancements */
@media (prefers-reduced-motion: reduce) {
  .rbm-justification-dialog * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  .rbm-compliance-notice {
    border: calc(var(--rbm-border-width-1) * 2) solid var(--rbm-color-text);
    background: var(--rbm-color-surface-1);
  }
  
  .justification-requirements {
    border: calc(var(--rbm-border-width-1) * 2) solid var(--rbm-color-text);
    background: var(--rbm-color-surface-1);
  }
  
  .validation-error {
    border: calc(var(--rbm-border-width-1) * 2) solid var(--rbm-color-text);
    background: var(--rbm-color-surface-1);
    color: var(--rbm-color-text);
  }
  
  .validation-success {
    border: calc(var(--rbm-border-width-1) * 2) solid var(--rbm-color-text);
    background: var(--rbm-color-surface-1);
    color: var(--rbm-color-text);
  }
}

/* Focus Management */
.rbm-justification-dialog__textarea:focus {
  outline: calc(var(--rbm-border-width-1) * 2) solid var(--rbm-color-focus);
  outline-offset: var(--rbm-space-1);
  border-color: var(--rbm-color-focus);
}

/* Mobile Responsive Enhancements using RBM density tokens */
@media (max-width: 768px) {
  .rbm-compliance-notice {
    padding: var(--rbm-space-2);
    font-size: var(--rbm-font-size-sm);
  }
  
  .justification-requirements p,
  .compliance-reminder p {
    font-size: var(--rbm-font-size-xs);
  }
  
  .rbm-justification-dialog__textarea {
    min-height: calc(var(--rbm-space-8) * 3.75); /* 120px equivalent using token math */
  }
}